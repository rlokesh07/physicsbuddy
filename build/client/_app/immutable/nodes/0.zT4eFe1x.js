import{s as y,o as v,e as g,a as S,c as j,l as w,g as $,m as z,i as d,u as M,p as b,q as C,f as h,r as A}from"../chunks/scheduler.Bk5BCwgU.js";import{S as D,i as T,t as L,a as P}from"../chunks/index.IejQtBaF.js";import{a as R,d as m,b as _,g as q,s as H,c as N}from"../chunks/store.Dvg3_2Jk.js";function V(o){let a,c='<a href="/" class="svelte-1jaynz8">Study Sign</a> <div class="modes svelte-1jaynz8"><a href="/Physics" class="svelte-1jaynz8">Physics</a> <a href="/Math" class="svelte-1jaynz8">Math</a> <a href="/Chemistry" class="svelte-1jaynz8">Chemistry</a></div> <a href="/account" class="svelte-1jaynz8">Account</a>',l,s;const i=o[1].default,e=v(i,o,o[0],null);return{c(){a=g("nav"),a.innerHTML=c,l=S(),e&&e.c(),this.h()},l(t){a=j(t,"NAV",{class:!0,"data-svelte-h":!0}),w(a)!=="svelte-15a2j9y"&&(a.innerHTML=c),l=$(t),e&&e.l(t),this.h()},h(){z(a,"class","svelte-1jaynz8")},m(t,n){d(t,a,n),d(t,l,n),e&&e.m(t,n),s=!0},p(t,[n]){e&&e.p&&(!s||n&1)&&M(e,i,t,t[0],s?C(i,t[0],n,null):b(t[0]),null)},i(t){s||(L(e,t),s=!0)},o(t){P(e,t),s=!1},d(t){t&&(h(a),h(l)),e&&e.d(t)}}}function k(o,a,c){let{$$slots:l={},$$scope:s}=a;const i=["/login"];return A(()=>{console.log("Mounting");const e=R.onAuthStateChanged(async t=>{const n=window.location.pathname;if(!t&&!i.includes(n)){window.location.href="/login";return}if(t&&n=="/login"){window.location.href="/";return}if(t){let r;const p=m(_,"users",t.uid),f=await q(p);if(f.exists())r=f.data();else{const u=m(_,"users",t.uid);r={email:t.email},await H(u,r,{merge:!0})}N.update(u=>({...u,user:t,data:r,loading:!1}))}return e()})}),o.$$set=e=>{"$$scope"in e&&c(0,s=e.$$scope)},[s,l]}class G extends D{constructor(a){super(),T(this,a,k,V,y,{})}}export{G as component};
