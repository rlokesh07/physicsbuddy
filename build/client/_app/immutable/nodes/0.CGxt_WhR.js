import{s as x,p as w,e as m,a as v,c as h,l as _,g as b,m as M,i as p,u as $,q as S,r as A,f as g,v as D}from"../chunks/scheduler.BX5N7TL5.js";import{S as H,i as L,t as C,a as k}from"../chunks/index.BZjeE8Gh.js";import{f as q,d as y,a as T,h as P,j as R}from"../chunks/index.esm2017.DYQTqBOc.js";import{a as j}from"../chunks/store.DgV87bNH.js";function E(o){let s,u="<title>To Teach a Monkey (beta)</title>",r,n,d='<div class="container-fluid"><a class="navbar-brand d-flex align-items-center" href="/"><span>To Teach a Monkey (beta)</span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-3"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button> <div class="collapse navbar-collapse" id="navcol-3" style="padding-right: 55px;"><ul class="navbar-nav mx-auto"><li class="nav-item"><a class="nav-link active" href="/Physics">Physics</a></li> </ul><span class="navbar-text" style="padding-right: 0px;padding-left: 0px;margin-left: 125px;">Account</span></div></div>',i,e;const c=o[1].default,t=w(c,o,o[0],null);return{c(){s=m("head"),s.innerHTML=u,r=v(),n=m("nav"),n.innerHTML=d,i=v(),t&&t.c(),this.h()},l(a){s=h(a,"HEAD",{"data-svelte-h":!0}),_(s)!=="svelte-1xduah5"&&(s.innerHTML=u),r=b(a),n=h(a,"NAV",{class:!0,"data-svelte-h":!0}),_(n)!=="svelte-1q08tgl"&&(n.innerHTML=d),i=b(a),t&&t.l(a),this.h()},h(){M(n,"class","navbar navbar-expand-md bg-body py-3")},m(a,l){p(a,s,l),p(a,r,l),p(a,n,l),p(a,i,l),t&&t.m(a,l),e=!0},p(a,[l]){t&&t.p&&(!e||l&1)&&$(t,c,a,a[0],e?A(c,a[0],l,null):S(a[0]),null)},i(a){e||(C(t,a),e=!0)},o(a){k(t,a),e=!1},d(a){a&&(g(s),g(r),g(n),g(i)),t&&t.d(a)}}}function N(o,s,u){let{$$slots:r={},$$scope:n}=s;const d=["/login"];return D(()=>{console.log("Mounting");const i=q.onAuthStateChanged(async e=>{const c=window.location.pathname;if(!e&&!d.includes(c)){window.location.href="/login";return}if(e&&c=="/login"){window.location.href="/";return}if(e){let t;const a=y(T,"users",e.uid),l=await P(a);if(l.exists())t=l.data();else{const f=y(T,"users",e.uid);t={email:e.email},await R(f,t,{merge:!0})}j.update(f=>({...f,user:e,data:t,loading:!1}))}return i()})}),o.$$set=i=>{"$$scope"in i&&u(0,n=i.$$scope)},[n,r]}class G extends H{constructor(s){super(),L(this,s,N,E,x,{})}}export{G as component};
