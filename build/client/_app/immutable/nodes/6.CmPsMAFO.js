import{s as x,e as y,t as z,a as S,H as j,c as b,b as w,d as A,f as _,g as E,A as B,m as g,i as q,h as v,j as F,n as I,r as N,U as G,V as Q,l as W,w as J,y as K}from"../chunks/scheduler.C4QHo95F.js";import{S as R,i as V,c as X,b as Y,m as Z,t as ee,a as te,d as ne}from"../chunks/index.BWtduQC3.js";import{e as L,q as M}from"../chunks/questions.DMgMepBo.js";import{r as $}from"../chunks/AnswerPage.svelte_svelte_type_style_lang.Cu2kLdRO.js";function ae({params:a}){return{id:a.id}}const ve=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));function P(a,e,n){const t=a.slice();return t[4]=e[n],t[6]=n,t}function T(a){let e,n;return{c(){e=y("img"),this.h()},l(t){e=b(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){g(e,"class","questionImage svelte-1yeoynr"),Q(e.src,n="/src/lib/images/HM0003.png")||g(e,"src",n),g(e,"alt"," Image")},m(t,i){q(t,e,i)},d(t){t&&_(e)}}}function U(a){var m;let e,n,t,i="Submit",u,o,l=L((m=a[0])==null?void 0:m.options),s=[];for(let f=0;f<l.length;f+=1)s[f]=C(P(a,l,f));return{c(){e=y("form");for(let f=0;f<s.length;f+=1)s[f].c();n=S(),t=y("button"),t.textContent=i,this.h()},l(f){e=b(f,"FORM",{});var h=w(e);for(let c=0;c<s.length;c+=1)s[c].l(h);n=E(h),t=b(h,"BUTTON",{type:!0,"data-svelte-h":!0}),W(t)!=="svelte-1ou7dtz"&&(t.textContent=i),h.forEach(_),this.h()},h(){g(t,"type","submit")},m(f,h){q(f,e,h);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);v(e,n),v(e,t),u||(o=J(e,"submit",a[1]),u=!0)},p(f,h){var c;if(h&1){l=L((c=f[0])==null?void 0:c.options);let r;for(r=0;r<l.length;r+=1){const d=P(f,l,r);s[r]?s[r].p(d,h):(s[r]=C(d),s[r].c(),s[r].m(e,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}},d(f){f&&_(e),K(s,f),u=!1,o()}}}function C(a){let e,n,t,i,u=$(a[4])+"",o,l;return{c(){e=y("label"),n=y("input"),t=S(),i=new j(!1),o=S(),l=y("br"),this.h()},l(s){e=b(s,"LABEL",{class:!0});var m=w(e);n=b(m,"INPUT",{type:!0,name:!0}),t=E(m),i=B(m,!1),o=E(m),m.forEach(_),l=b(s,"BR",{}),this.h()},h(){g(n,"type","radio"),g(n,"name","option"),n.value=a[6],n.required=!0,i.a=o,g(e,"class","radio")},m(s,m){q(s,e,m),v(e,n),v(e,t),i.m(u,e),v(e,o),q(s,l,m)},p(s,m){m&1&&u!==(u=$(s[4])+"")&&i.p(u)},d(s){s&&(_(e),_(l))}}}function se(a){let e,n,t=a[0].topic+"",i,u,o,l,s=$(a[0].question)+"",m,f,h,c=a[0].image&&T(),r=a[0].options&&U(a);return{c(){e=y("div"),n=y("h1"),i=z(t),u=S(),o=y("p"),l=new j(!1),m=S(),c&&c.c(),f=S(),h=y("div"),r&&r.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var p=w(e);n=b(p,"H1",{class:!0});var O=w(n);i=A(O,t),O.forEach(_),u=E(p),o=b(p,"P",{class:!0});var D=w(o);l=B(D,!1),D.forEach(_),m=E(p),c&&c.l(p),p.forEach(_),f=E(d),h=b(d,"DIV",{class:!0});var H=w(h);r&&r.l(H),H.forEach(_),this.h()},h(){g(n,"class","svelte-1yeoynr"),l.a=null,g(o,"class","svelte-1yeoynr"),g(e,"class","question svelte-1yeoynr"),g(h,"class","answer")},m(d,p){q(d,e,p),v(e,n),v(n,i),v(e,u),v(e,o),l.m(s,o),v(e,m),c&&c.m(e,null),q(d,f,p),q(d,h,p),r&&r.m(h,null)},p(d,[p]){p&1&&t!==(t=d[0].topic+"")&&F(i,t),p&1&&s!==(s=$(d[0].question)+"")&&l.p(s),d[0].image?c||(c=T(),c.c(),c.m(e,null)):c&&(c.d(1),c=null),d[0].options?r?r.p(d,p):(r=U(d),r.c(),r.m(h,null)):r&&(r.d(1),r=null)},i:I,o:I,d(d){d&&(_(e),_(f),_(h)),c&&c.d(),r&&r.d()}}}function ie(a,e,n){let{question:t}=e;N(()=>{const o=document.querySelector(".questionImage");t.image&&(o.src=`${t.image}`)});const i=G();function u(o){const l=o.target,m=new FormData(l).get("option");i("formSubmitted",{question:t,selectedOption:m})}return a.$$set=o=>{"question"in o&&n(0,t=o.question)},[t,u]}class oe extends R{constructor(e){super(),V(this,e,ie,se,x,{question:0})}}const le=()=>typeof window<"u"&&"document"in window&&"location"in window,k=a=>({...a.location,state:a.history.state,key:a.history.state&&a.history.state.key||"initial"}),re=a=>{const e=[];let n=k(a);return{get location(){return n},listen(t){e.push(t);const i=()=>{n=k(a),t({location:n,action:"POP"})};return a.addEventListener("popstate",i),()=>{a.removeEventListener("popstate",i);const u=e.indexOf(t);e.splice(u,1)}},navigate(t,{state:i,replace:u=!1,preserveScroll:o=!1,blurActiveElement:l=!0}={}){i={...i,key:Date.now()+""};try{u?a.history.replaceState(i,"",t):a.history.pushState(i,"",t)}catch{a.location[u?"replace":"assign"](t)}n=k(a),e.forEach(s=>s({location:n,action:"PUSH",preserveScroll:o})),l&&document.activeElement.blur()}}},ce=(a="/")=>{let e=0;const n=[{pathname:a,search:""}],t=[];return{get location(){return n[e]},addEventListener(i,u){},removeEventListener(i,u){},history:{get entries(){return n},get index(){return e},get state(){return t[e]},pushState(i,u,o){const[l,s=""]=o.split("?");e++,n.push({pathname:l,search:s}),t.push(i)},replaceState(i,u,o){const[l,s=""]=o.split("?");n[e]={pathname:l,search:s},t[e]=i}}}},ue=re(le()?window:ce()),{navigate:fe}=ue;function me(a){let e,n;return e=new oe({props:{question:M[a[0]],image:M[a[0]].image}}),e.$on("formSubmitted",a[1]),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){Z(e,t,i),n=!0},p:I,i(t){n||(ee(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){ne(e,t)}}}function de(a,e,n){let{data:t}=e;var i=M.findIndex(function(o,l){return o.id===t.id});const u=async o=>{const{question:l,selectedOption:s}=o.detail;console.log(l.id+s),fe(`/questions/${l.id}/${encodeURIComponent(s)}`)};return a.$$set=o=>{"data"in o&&n(2,t=o.data)},[i,u,t]}class ye extends R{constructor(e){super(),V(this,e,de,me,x,{data:2})}}export{ye as component,ve as universal};
