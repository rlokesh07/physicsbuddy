import{s as h,o as _,e as b,a as y,c as w,l as $,g as x,m as M,i as f,u as S,p as T,q as k,f as p,r as A}from"../chunks/scheduler.Bk5BCwgU.js";import{S as D,i as H,t as C,a as L}from"../chunks/index.IejQtBaF.js";import{f as P,d as m,a as v,h as R,j}from"../chunks/index.esm2017.DYQTqBOc.js";import{a as q}from"../chunks/store.Dsvwl-ZD.js";function N(l){let s,r='<div class="container-fluid"><a class="navbar-brand d-flex align-items-center" href="/"><span>To Teach a Monkey</span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-3"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button> <div class="collapse navbar-collapse" id="navcol-3" style="padding-right: 1px;"><ul class="navbar-nav mx-auto"><li class="nav-item"><a class="nav-link active" href="/Physics">Physics</a></li> <li class="nav-item"><a class="nav-link" href="/Math">Math</a></li> <li class="nav-item"><a class="nav-link" href="/History">History</a></li> </ul><span class="navbar-text" style="padding-right: 0px;padding-left: 0px;margin-left: 125px;">Account</span></div></div>',i,e;const o=l[1].default,t=_(o,l,l[0],null);return{c(){s=b("nav"),s.innerHTML=r,i=y(),t&&t.c(),this.h()},l(a){s=w(a,"NAV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-myvj01"&&(s.innerHTML=r),i=x(a),t&&t.l(a),this.h()},h(){M(s,"class","navbar navbar-expand-md bg-body py-3")},m(a,n){f(a,s,n),f(a,i,n),t&&t.m(a,n),e=!0},p(a,[n]){t&&t.p&&(!e||n&1)&&S(t,o,a,a[0],e?k(o,a[0],n,null):T(a[0]),null)},i(a){e||(C(t,a),e=!0)},o(a){L(t,a),e=!1},d(a){a&&(p(s),p(i)),t&&t.d(a)}}}function V(l,s,r){let{$$slots:i={},$$scope:e}=s;const o=["/login"];return A(()=>{console.log("Mounting");const t=P.onAuthStateChanged(async a=>{const n=window.location.pathname;if(!a&&!o.includes(n)){window.location.href="/login";return}if(a&&n=="/login"){window.location.href="/";return}if(a){let c;const g=m(v,"users",a.uid),d=await R(g);if(d.exists())c=d.data();else{const u=m(v,"users",a.uid);c={email:a.email},await j(u,c,{merge:!0})}q.update(u=>({...u,user:a,data:c,loading:!1}))}return t()})}),l.$$set=t=>{"$$scope"in t&&r(0,e=t.$$scope)},[e,i]}class G extends D{constructor(s){super(),H(this,s,V,N,h,{})}}export{G as component};
