import{s as A,e as y,t as Y,a as $,O as C,c as q,b as w,d as Z,f as g,g as I,P as F,m,i as M,h as _,j as ee,n as U,r as Q,W as te,X as ne,l as W,w as G,y as X,v as se}from"../chunks/scheduler.Bk5BCwgU.js";import{S as J,i as K,c as ae,b as ie,m as le,t as oe,a as re,d as ce}from"../chunks/index.IejQtBaF.js";import{e as P}from"../chunks/each.D6YF6ztN.js";import{r as L}from"../chunks/KaTeX.DDaMeVYv.js";import{q as ue,h as fe}from"../chunks/store.Dvg3_2Jk.js";function he({params:a}){const e=a.id,n=a.subject;return{id:e,subject:n}}const Le=Object.freeze(Object.defineProperty({__proto__:null,load:he},Symbol.toStringTag,{value:"Module"}));function N(a,e,n){const t=a.slice();return t[7]=e[n],t[6]=n,t}function V(a,e,n){const t=a.slice();return t[4]=e[n],t[6]=n,t}function B(a){let e,n;return{c(){e=y("img"),this.h()},l(t){e=q(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","questionImage svelte-5h3uds"),ne(e.src,n="/src/lib/images/HM0003.png")||m(e,"src",n),m(e,"alt"," Image")},m(t,s){M(t,e,s)},d(t){t&&g(e)}}}function de(a){var b;let e,n,t,s,c,f,r="Submit",i,p,l=P((b=a[0])==null?void 0:b.unit),o=[];for(let u=0;u<l.length;u+=1)o[u]=x(N(a,l,u));return{c(){e=y("form"),n=y("input"),t=$(),s=y("select");for(let u=0;u<o.length;u+=1)o[u].c();c=$(),f=y("button"),f.textContent=r,this.h()},l(u){e=q(u,"FORM",{});var h=w(e);n=q(h,"INPUT",{type:!0,id:!0,name:!0}),t=I(h),s=q(h,"SELECT",{name:!0,id:!0});var S=w(s);for(let d=0;d<o.length;d+=1)o[d].l(S);S.forEach(g),c=I(h),f=q(h,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),W(f)!=="svelte-ttjbab"&&(f.textContent=r),h.forEach(g),this.h()},h(){m(n,"type","text"),m(n,"id","FreeResponse"),m(n,"name","FreeResponse"),m(s,"name","unit"),m(s,"id","unit"),m(f,"type","submit"),m(f,"class","submit-button svelte-5h3uds")},m(u,h){M(u,e,h),_(e,n),_(e,t),_(e,s);for(let S=0;S<o.length;S+=1)o[S]&&o[S].m(s,null);_(e,c),_(e,f),i||(p=G(e,"submit",a[2]),i=!0)},p(u,h){var S;if(h&1){l=P((S=u[0])==null?void 0:S.unit);let d;for(d=0;d<l.length;d+=1){const v=N(u,l,d);o[d]?o[d].p(v,h):(o[d]=x(v),o[d].c(),o[d].m(s,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=l.length}},d(u){u&&g(e),X(o,u),i=!1,p()}}}function me(a){var p;let e,n,t,s='<button type="submit" class="submit-button svelte-5h3uds">Submit</button>',c,f,r=P((p=a[0])==null?void 0:p.options),i=[];for(let l=0;l<r.length;l+=1)i[l]=z(V(a,r,l));return{c(){e=y("form");for(let l=0;l<i.length;l+=1)i[l].c();n=$(),t=y("div"),t.innerHTML=s,this.h()},l(l){e=q(l,"FORM",{});var o=w(e);for(let b=0;b<i.length;b+=1)i[b].l(o);n=I(o),t=q(o,"DIV",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-184z3ph"&&(t.innerHTML=s),o.forEach(g),this.h()},h(){m(t,"class","submit-button-container svelte-5h3uds")},m(l,o){M(l,e,o);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(e,null);_(e,n),_(e,t),c||(f=G(e,"submit",a[1]),c=!0)},p(l,o){var b;if(o&1){r=P((b=l[0])==null?void 0:b.options);let u;for(u=0;u<r.length;u+=1){const h=V(l,r,u);i[u]?i[u].p(h,o):(i[u]=z(h),i[u].c(),i[u].m(e,n))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}},d(l){l&&g(e),X(i,l),c=!1,f()}}}function x(a){let e,n,t=L(a[7])+"";return{c(){e=y("option"),n=new C(!1),this.h()},l(s){e=q(s,"OPTION",{});var c=w(e);n=F(c,!1),c.forEach(g),this.h()},h(){n.a=null,e.__value=a[6],se(e,e.__value)},m(s,c){M(s,e,c),n.m(t,e)},p(s,c){c&1&&t!==(t=L(s[7])+"")&&n.p(t)},d(s){s&&g(e)}}}function z(a){let e,n,t,s,c,f,r=L(a[4])+"",i,p;return{c(){e=y("label"),n=y("input"),t=$(),s=y("span"),c=$(),f=new C(!1),i=$(),p=y("br"),this.h()},l(l){e=q(l,"LABEL",{class:!0,for:!0});var o=w(e);n=q(o,"INPUT",{type:!0,id:!0,name:!0}),t=I(o),s=q(o,"SPAN",{class:!0}),w(s).forEach(g),c=I(o),f=F(o,!1),i=I(o),o.forEach(g),p=q(l,"BR",{}),this.h()},h(){m(n,"type","radio"),m(n,"id",`option${a[6]}`),m(n,"name","option"),n.value=a[6],n.required=!0,m(s,"class","radio-custom"),f.a=i,m(e,"class","radio"),m(e,"for",`option${a[6]}`)},m(l,o){M(l,e,o),_(e,n),_(e,t),_(e,s),_(e,c),f.m(r,e),_(e,i),M(l,p,o)},p(l,o){o&1&&r!==(r=L(l[4])+"")&&f.p(r)},d(l){l&&(g(e),g(p))}}}function pe(a){let e,n,t,s,c=a[0].topic+"",f,r,i,p,l=L(a[0].question)+"",o,b,u,h=a[0].image&&B();function S(E,k){if(E[0].type==="Multiple Choice")return me;if(E[0].type==="Free Response")return de}let d=S(a),v=d&&d(a);return{c(){e=y("div"),n=y("div"),t=y("div"),s=y("h1"),f=Y(c),r=$(),i=y("p"),p=new C(!1),o=$(),h&&h.c(),b=$(),u=y("div"),v&&v.c(),this.h()},l(E){e=q(E,"DIV",{class:!0});var k=w(e);n=q(k,"DIV",{class:!0});var O=w(n);t=q(O,"DIV",{class:!0});var D=w(t);s=q(D,"H1",{class:!0});var H=w(s);f=Z(H,c),H.forEach(g),r=I(D),i=q(D,"P",{class:!0});var R=w(i);p=F(R,!1),R.forEach(g),o=I(D),h&&h.l(D),D.forEach(g),b=I(O),u=q(O,"DIV",{class:!0});var j=w(u);v&&v.l(j),j.forEach(g),O.forEach(g),k.forEach(g),this.h()},h(){m(s,"class","svelte-5h3uds"),p.a=null,m(i,"class","svelte-5h3uds"),m(t,"class","question svelte-5h3uds"),m(u,"class","answer svelte-5h3uds"),m(n,"class","questionBox svelte-5h3uds"),m(e,"class","fullContainer svelte-5h3uds")},m(E,k){M(E,e,k),_(e,n),_(n,t),_(t,s),_(s,f),_(t,r),_(t,i),p.m(l,i),_(t,o),h&&h.m(t,null),_(n,b),_(n,u),v&&v.m(u,null)},p(E,[k]){k&1&&c!==(c=E[0].topic+"")&&ee(f,c),k&1&&l!==(l=L(E[0].question)+"")&&p.p(l),E[0].image?h||(h=B(),h.c(),h.m(t,null)):h&&(h.d(1),h=null),d===(d=S(E))&&v?v.p(E,k):(v&&v.d(1),v=d&&d(E),v&&(v.c(),v.m(u,null)))},i:U,o:U,d(E){E&&g(e),h&&h.d(),v&&v.d()}}}function _e(a,e,n){let{question:t}=e;Q(()=>{const r=document.querySelector(".questionImage");t.image&&(r.src=`${t.image}`)});const s=te();function c(r){const i=r.target,l=new FormData(i).get("option");s("formSubmitted",{question:t,selected:l})}function f(r){const i=r.target,p=new FormData(i);let l=p.get("FreeResponse");l+=p.get("unit"),console.log(l),s("formSubmitted",{question:t,selected:l})}return a.$$set=r=>{"question"in r&&n(0,t=r.question)},[t,c,f]}class ve extends J{constructor(e){super(),K(this,e,_e,pe,A,{question:0})}}const ge=()=>typeof window<"u"&&"document"in window&&"location"in window,T=a=>({...a.location,state:a.history.state,key:a.history.state&&a.history.state.key||"initial"}),be=a=>{const e=[];let n=T(a);return{get location(){return n},listen(t){e.push(t);const s=()=>{n=T(a),t({location:n,action:"POP"})};return a.addEventListener("popstate",s),()=>{a.removeEventListener("popstate",s);const c=e.indexOf(t);e.splice(c,1)}},navigate(t,{state:s,replace:c=!1,preserveScroll:f=!1,blurActiveElement:r=!0}={}){s={...s,key:Date.now()+""};try{c?a.history.replaceState(s,"",t):a.history.pushState(s,"",t)}catch{a.location[c?"replace":"assign"](t)}n=T(a),e.forEach(i=>i({location:n,action:"PUSH",preserveScroll:f})),r&&document.activeElement.blur()}}},ye=(a="/")=>{let e=0;const n=[{pathname:a,search:""}],t=[];return{get location(){return n[e]},addEventListener(s,c){},removeEventListener(s,c){},history:{get entries(){return n},get index(){return e},get state(){return t[e]},pushState(s,c,f){const[r,i=""]=f.split("?");e++,n.push({pathname:r,search:i}),t.push(s)},replaceState(s,c,f){const[r,i=""]=f.split("?");n[e]={pathname:r,search:i},t[e]=s}}}},qe=be(ge()?window:ye()),{navigate:Ee}=qe;function Se(a){let e,n;return e=new ve({props:{question:a[0][a[1]]}}),e.$on("formSubmitted",a[2]),{c(){ae(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,s){le(e,t,s),n=!0},p(t,[s]){const c={};s&1&&(c.question=t[0][t[1]]),e.$set(c)},i(t){n||(oe(e.$$.fragment,t),n=!0)},o(t){re(e.$$.fragment,t),n=!1},d(t){ce(e,t)}}}function we(a,e,n){let t=[];ue.subscribe(r=>{n(0,t=r.questions),r.loading});let{data:s}=e;var c=t.findIndex(function(r,i){return r.id===s.id});const f=async r=>{const{question:i,selected:p}=r.detail;Ee(`/questions/${s.subject}/${i.id}/${encodeURIComponent(p)}`)};return Q(async()=>{await fe(s.subject)}),a.$$set=r=>{"data"in r&&n(3,s=r.data)},[t,c,f,s]}class Oe extends J{constructor(e){super(),K(this,e,we,Se,A,{data:3})}}export{Oe as component,Le as universal};
